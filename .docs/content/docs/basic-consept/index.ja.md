---
weight: 1
title: "基本概念"
---

# Avatar Optimizerの基本概念 {#basic-concepts}

このページでは、Avatar Optimizerの基本概念について説明します。

## Avatar Optimizerとは？ {#what-is-avatar-optimizer}

Avatar Optimizerは、アバターを最適化するためのツールです。
このツールは最初にVRChatアバター向けに設計されましたが、[NDMF]でサポートされている他のアバターにも使用できるかもしれません。

## Avatar Optimizerの目的は何ですか？ {#what-is-the-goal-of-avatar-optimizer}

このツールは、外観をあまり変えずにアバターのパフォーマンスを最適化するのを助けるために設計されています。
このツールはアバターの振る舞いを変更することを目的としていません。

指定されていないアバターの振る舞いの変更は、一部のユースケースに有用であるかもしれませんが、バグとして扱われます。\
いくつかのケースでは、そのバグが多くのユースケースに影響を与えないため、バグを一時的に放置することがあります。\
ただし、バグの振る舞いは他のコンポーネントには考慮されないかもしれません。

例えば、1.7.x以前のMergeSkinnedMeshはBlendShapeをマージします。\
これは、個別にアニメーションできるBlendShapesをマージすると動作が変わってしまうため、バグとして扱われます。\
このバグを使用して、Skinned Mesh RendererのBlendShapeアニメーションを別のSkinned Mesh Rendererと同期させることができます。\
ただし、これはサポートされていない動作であり、他のコンポーネントが動作を壊すかもしれません。\
例えば、Trace and Optimizeの`BlendShapeを自動的に固定・除去する`は、Merge Skinned Meshによって動くようになる可能性のあるBlendShapeであっても、固定・除去します。

## Avatar Optimizerの振る舞いは将来のバージョンでも安定していますか？ {#behavior-stability}

Avatar Optimizerはバージョン管理に[セマンティックバージョニング]を使用し、コンポーネントの振る舞いには主にセマンティックバージョニングのルールを適用しています。

既に追加されたコンポーネントの振る舞いは、同じメジャーバージョンで変更されないことを保証します。\
ただし、既存のコンポーネントタイプに新しい機能を追加することがあり、新しく追加されたコンポーネントの振る舞いが変更されることがあります。

一部のバグでは、そのバグを修正するとコンポーネントの振る舞いが大幅に変更されることがあります。
そのようなバグを修正するためには、新しい振る舞いを有効にする新しいフラグを追加します。\
既存のコンポーネントではフラグをデフォルトで無効にしておくことで、既存のコンポーネントの振る舞いを維持し、
新しく追加されたコンポーネントではフラグをデフォルトで有効にすることで、新しいコンポーネントのバグを修正します。

この振る舞いの安定性にはいくつかの例外があります。

- コンポーネントのデバッグ専用の機能は、上記のルールに従うことが保証されません。\
  たとえば、Trace and OptimizeのAdvanced Optionsはいつでも変更される可能性があります。
- 実験的な機能としてマークされた機能は、上記のルールに従うことが保証されません。
- `Trace and Optimize`コンポーネントの振る舞いは、新しい最適化を実装することで変更される可能性があります。\
  ただし、`Trace and Optimize`コンポーネントのデフォルト設定は、アバターの振る舞いに影響を与えないため、変更はアバターに影響を与えません。
  (もし`Trace and Optimize`コンポーネントによってアバターの振る舞いが変わった場合は、バグとして報告してください。)

[NDMF]: https://ndmf.nadena.dev/
[セマンティックバージョニング]: https://semver.org/lang/ja/spec/v2.0.0.html
